<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç»å¯¹çœŸç† V2.0</title>
    <style>
        :root { --main-color: #d4af37; --bg-color: #121212; }
        body { background: var(--bg-color); color: var(--main-color); font-family: sans-serif; transition: all 1s ease; margin: 0; padding: 20px; }
        .app-card { background: rgba(30,30,30,0.9); border-radius: 20px; padding: 20px; border: 1px solid var(--main-color); box-shadow: 0 0 20px rgba(212,175,55,0.2); }
        input { width: 100%; padding: 15px; margin: 10px 0; background: #000; border: 1px solid #444; color: #fff; border-radius: 10px; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: var(--main-color); color: #000; border: none; border-radius: 10px; font-weight: bold; margin-top: 10px; }
        .result { margin-top: 20px; display: none; text-align: center; border-top: 1px solid #333; padding-top: 20px; }
        .gua-display { font-size: 30px; letter-spacing: 10px; margin: 15px 0; text-shadow: 0 0 10px var(--main-color); }
    </style>
</head>
<body>
    <div class="app-card">
        <h2 id="appTitle">ğŸ® çœŸç†æ¼”åŒ–å¼•æ“ V2.0</h2>
        <input type="text" id="target" placeholder="åˆ†æå¯¹è±¡ (å¦‚: è‹±ç»´å…‹)">
        <input type="text" id="env" placeholder="å¤©ä½å˜é‡ (å¦‚: ç®—åŠ›æ–°æ”¿)">
        <button onclick="evolve()">å¼€å¯æ¨æ¼”</button>
        <div id="res" class="result">
            <div class="gua-display" id="gua"></div>
            <p id="logicText" style="font-size: 14px; color: #aaa; line-height: 1.6;"></p>
        </div>
    </div>

<script>
    const G = ["", "ä¹¾(å¤©)", "å…‘(æ³½)", "ç¦»(ç«)", "éœ‡(é›·)", "å·½(é£)", "å(æ°´)", "è‰®(å±±)", "å¤(åœ°)"];
    const COLORS = ["", "#FFD700", "#E0E0E0", "#FF4500", "#9370DB", "#40E0D0", "#1E90FF", "#8B4513", "#556B2F"];

    function hash(s, m) {
        let r = 0;
        for(let i=0; i<s.length; i++) r = (r << 5) - r + s.charCodeAt(i);
        return Math.abs(r % m) || m;
    }

    function evolve() {
        const t = document.getElementById('target').value;
        const e = document.getElementById('env').value;
        if(!t || !e) return alert("è¯·è¾“å…¥å®Œæ•´å‚æ•°");

        let u = hash(e, 8), l = hash(t, 8), m = hash(t+e, 6);
        let bu = u, bl = l;
        if(m <= 3) bl = (l % 8) + 1; else bu = (u % 8) + 1;

        // è§†è§‰åé¦ˆé€»è¾‘ï¼šæ ¹æ®ä¸Šå¦æ”¹å˜å…¨å±€è‰²è°ƒ
        document.documentElement.style.setProperty('--main-color', COLORS[u]);
        document.body.style.boxShadow = `inset 0 0 100px ${COLORS[u]}33`;

        document.getElementById('res').style.display = 'block';
        document.getElementById('gua').innerText = `${G[u]} | ${G[l]}`;
        document.getElementById('logicText').innerText = `ã€æ¨æ¼”ç»“æœã€‘
        å½“å‰å±€åŠ¿å¤„äºã€Œ${G[u]}ã€ä½ç¬¼ç½©ã€‚
        ç”±äºã€Œ${e}ã€çš„æ‰°åŠ¨ï¼Œç³»ç»Ÿåœ¨ç¬¬ ${m} çˆ»å‘ç”Ÿé‡å­åç¼©ã€‚
        æ¼”åŒ–è·¯å¾„ï¼šå‘ã€Œ${G[bu]}${G[bl]}ã€çŠ¶æ€è¿ç§»ã€‚å»ºè®®å…³æ³¨å…¶æŠ€æœ¯åº•å±‚ä¸æ”¿ç­–çš„è€¦åˆåº¦ã€‚`;
    }
</script>
</body>
</html>
